## btconfig

btconfig 是高通源码中 bluetooth 测试工具，可用于 HCI 命令执行

### raw command

```
btconfig /dev/smd3 reset 
btconfig /dev/smd3 rawcmd 0x06 0x03 （Enter Test Mode进入测试模式） 
btconfig /dev/smd3 rawcmd 0x03 0x05 0x02 0x00 0x02 （Auto Accept All Connections自动连接） 
btconfig /dev/smd3 rawcmd 0x03 0x1A 0x03 （Page Inquiry Scans按页扫描） 
btconfig /dev/smd3 rawcmd 0x03 0x20 0x00 （Disable Authentication取消认证） 
btconfig /dev/smd3 rawcmd 0x03 0x22 0x00 （Disable Encryption取消加密）
```

### BT Test

```markdown
## TX_Burst: 
btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x04 0x27 0x27 0x27 0x27 0x27 0x04 0x04 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0x1B 0x00 0x00 -->0x04 = DH1 packet type,伪随机 

btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x04 0x27 0x27 0x27 0x27 0x27 0x04 0x0B 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0xB7 0x00 0x00 -->0X0B = DH3 

btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x04 0x27 0x27 0x27 0x27 0x27 0x04 0x0F 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0x53 0x01 0x00 -->0X0F = DH5 

## RX_Burst: 
btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x06 0x27 0x27 0x27 0x27 0x27 0x04 0x04 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0x1B 0x00 0x00 -->0x04 = DH1 packet type 

btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x06 0x27 0x27 0x27 0x27 0x27 0x04 0x0B 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0xB7 0x00 0x00 -->0X0B = DH3 

btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x06 0x27 0x27 0x27 0x27 0x27 0x04 0x0F 0x00 0x09 0x01 0x9C 0x35 0xBD 0x9C 0x35 0xBD 0x00 0x53 0x01 0x00 -->0X0F = DH5 

## TX_Continuous: 
btconfig /dev/smd3 rawcmd 0x3F 0x0004 0x05 0x01 0x09 0x04 0x20 0x00 0x00 0x00 0x00 -->0x01 = TX channel,0x04 = transmit type(carrier) 
```

### LE test

```markdown
## LE rx test: 
btconfig /dev/smd3 reset 
btconfig /dev/smd3 rawcmd 0x06 0x03 （Enter Test Mode进入测试模式） 
btconfig /dev/smd3 rawcmd 0x03 0x05 0x02 0x00 0x02 （Auto Accept All Connections自动连接） 
btconfig /dev/smd3 rawcmd 0x03 0x1A 0x03 （Page Inquiry Scans按页扫描） 
btconfig /dev/smd3 rawcmd 0x03 0x20 0x00 （Disable Authentication取消认证） 
btconfig /dev/smd3 rawcmd 0x03 0x22 0x00 （Disable Encryption取消加密） 

btconfig /dev/smd3 rawcmd 0x08 0x001D 0x00 
btconfig /dev/smd3 rawcmd 0x08 0x001F 

## LE tx test: 
btconfig /dev/smd3 reset 
btconfig /dev/smd3 rawcmd 0x06 0x03 （Enter Test Mode进入测试模式） 
btconfig /dev/smd3 rawcmd 0x03 0x05 0x02 0x00 0x02 （Auto Accept All Connections自动连接） 
btconfig /dev/smd3 rawcmd 0x03 0x1A 0x03 （Page Inquiry Scans按页扫描） 
btconfig /dev/smd3 rawcmd 0x03 0x20 0x00 （Disable Authentication取消认证） 
btconfig /dev/smd3 rawcmd 0x03 0x22 0x00 （Disable Encryption取消加密） 

btconfig /dev/smd3 rawcmd 0x08 0x001E 0x00 0x25 0x00 -->0x00为channel（你可以设置为0x00到0x27，从低到高，对应2402 MHz to 2480 MHz） 

btconfig /dev/smd3 rawcmd 0x08 0x001F //stop test
```

